---
const { tour, t, lang = 'es' } = Astro.props;
if (!tour) {
  // No renderizar nada si el tour no está definido
  return null;
}
const { name, duration, description, includes, image, price, slug } = tour;
const cardId = `carousel-card-${name.replace(/\s+/g, '').toLowerCase()}`;
const detailsUrl = lang === 'es' ? `/es/tours/${slug}` : `/tours/${slug}`;
---
<a id={cardId}
  href={detailsUrl}
  class="tour-card-carousel bg-white/70 backdrop-blur-md rounded-md p-4 flex flex-col h-full text-stone-800 shadow-lg overflow-hidden border border-solid border-white/60 cursor-pointer no-underline"
  data-name={name}
  data-duration={duration}
  data-description={description}
  data-includes={includes.join('||')}
  data-image={image}
>
  <img src={image} alt={name} class="w-full h-32 object-cover rounded-md mb-3" loading="lazy" />
  <h3 class="text-xl font-bold text-stone-900 mb-1">{name}</h3>
  {price && (
    <div class="inline-block bg-[#d2a530] text-white text-lg font-extrabold rounded-full px-4 py-1 mb-2 shadow price-badge">
      {(t('card.from') || 'From') + ' ' + price + ' USD'}
    </div>
  )}
  <p class="text-sm text-stone-700 mb-4 flex items-center">
    <span class="material-symbols-outlined mr-2 text-base">schedule</span>
    {duration}
  </p>
  <div class="text-sm text-stone-700 mb-4 flex-grow">
    <p>{description}</p>
  </div>
  <div class="mt-2 text-[#b64926] font-semibold underline text-center w-full block">
    {t('card.seeMore') || 'Ver más detalles'}
  </div>
</a>
